<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transformer Sizing Calculator | Electrical Tools</title>
<style>
  body {font-family: Arial,sans-serif;margin:0;padding:0;background:#f4f7fb;color:#333;}
  header {background:#1a237e;color:white;padding:20px;text-align:center;font-size:1.5rem;font-weight:bold;}
  .container {max-width:700px;margin:40px auto;background:white;padding:25px;border-radius:10px;box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  label {display:block;margin:12px 0 5px;font-weight:bold;}
  input {width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:6px;font-size:16px;}
  button {background:#3949ab;color:white;padding:12px;border:none;border-radius:8px;font-size:18px;cursor:pointer;width:100%;}
  button:hover {background:#5c6bc0;}
  .result {margin-top:20px;font-size:18px;font-weight:bold;color:#1a237e;text-align:center;}
  .back-home {display:inline-block;margin-top:20px;text-decoration:none;color:#555;text-align:center;}
  .back-home:hover {color:#000;}
</style>
</head>
<body>

<header>⚡ Transformer Sizing Calculator</header>

<div class="container">
  <label for="load">Total Load (kW):</label>
  <input type="number" id="load" placeholder="Enter total load">

  <label for="pf">Power Factor (0–1):</label>
  <input type="number" id="pf" placeholder="Enter power factor" value="0.85">

  <label for="efficiency">Transformer Efficiency (%):</label>
  <input type="number" id="efficiency" placeholder="Enter efficiency" value="95">

  <button onclick="calculateTransformer()">Calculate Transformer Size</button>

  <div class="result" id="result"></div>
  <a href="index.html" class="back-home">⬅ Back to Home</a>
</div>

<script>
function calculateTransformer() {
  const load = parseFloat(document.getElementById('load').value);
  const pf = parseFloat(document.getElementById('pf').value);
  const efficiency = parseFloat(document.getElementById('efficiency').value) / 100;

  if (isNaN(load) || isNaN(pf) || isNaN(efficiency) || load <= 0 || pf <= 0 || efficiency <= 0) {
    document.getElementById('result').innerText = "⚠️ Please enter valid numbers.";
    return;
  }

  // Calculate kVA
  const kva = load / (pf * efficiency);

  // Round to nearest standard transformer ratings
  const standardSizes = [10, 15, 20, 25, 30, 50, 75, 100, 125, 150, 200, 250, 300, 400, 500, 630, 750, 1000];
  const recommended = standardSizes.find(size => size >= kva) || "Above 1000 kVA";

  document.getElementById('result').innerHTML = 
    `Calculated kVA: <b>${kva.toFixed(2)} kVA</b><br>
     Recommended Standard Size: <b>${recommended}</b>`;
}
</script>

</body>
</html>
